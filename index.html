<!DOCTYPE html>
<html>
	<head>
	<script src='js/jquery.min.js'></script>
	<script src ='message-maker.js'></script>
	<link rel='stylesheet' href='css/bootstrap.min.css'>
	<script src='js/bootstrap.min.js'></script>
	<link href='styles.css' rel='stylesheet'>

	<title>Tweetle Me</title>

	</head>
	<body>
		<div class='container'>
			<H1>Tweetle Stream</H1>
			
			<div class='row-fluid'>
			  <div class='col-sm-4 now-viewing-box'>
			  	<H4>Now Viewing</H4>
			  	<p id='view-name'>All Tweets</p>
			  </div>
			  <div class='col-sm-1'></div>
			  <div class='col-sm-7 tweet-box'>
			  	<H3>Latest Tweets</H3>
			  	<button type="button" class=Â­"btn btn-default" id='update'>Newest Messages</button>
			    <div class='alltweets'></div>
			  </div>
			</div>
		</div>
		<script>
		$(document).ready(function(){
			var $alltweets = $('body').find('.alltweets');
		// tweets to body
			var index = 0;
			while(index <= messages.homepage.length-1){
				var msgInfo = messages.homepage[index];
				var $msgInfo = $('<div class = "tweet">'+
								 '<span class="user">@' + msgInfo.user + '</span>' + 
								 '<span class="message">' + msgInfo.message + '</span>' +
								 '<span class="date" id="'+index+'">' + timeAgo(msgInfo.created_at) + '</span>' +
								 '</div>'
								);
				$msgInfo.prependTo($alltweets);
				index++;
			}
			$('#update').click(function(){
				totalCount = messages.homepage.length-1;
				if(index === totalCount) return;
				while(index <= totalCount){
					var msgInfo = messages.homepage[index];
					var $msgInfo = $('<div class = "tweet">'+
									 '<span class="user">@' + msgInfo.user + '</span>' + 
									 '<span class="message">' + msgInfo.message + '</span>' +
									 '<span class="date" id="'+index+'">' + timeAgo(msgInfo.created_at) + '</span>' +
									 '</div>'
									);
					$msgInfo.hide().prependTo($alltweets).fadeIn(1000);
					index++;
				}
				var timeIndex = 0;
				while(timeIndex <= totalCount){
					$('body').find('#'+timeIndex).text(timeAgo(messages.homepage[timeIndex].created_at));
					timeIndex++;
				}
			});
		});

		</script>
		<footer>
		  <p>Christian Lucas</p>
		  <p>Twitter Clone with JQuery and Bootstrap</p>
		</footer>
	</body>
</html>
